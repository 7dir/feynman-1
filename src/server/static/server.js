!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e>0&&65535>=e}n(6);var o=n(17),a=n(5),u=r(a),s=parseInt(o.argv.port||8e3),l=i(s)?s:8e3;u["default"].listen(l,function(){return console.log("["+new Date+"] Now listening on port: "+l)})},function(e,t,n){(function(t){var r=n(2),i=r.join(t,".."),o=r.join(i,"config"),a=r.join(i,"src"),u=r.join(a,"client"),s=r.join(a,"server"),l=r.join(o,"webpack"),c=r.join(u,"app.coffee"),f=r.join(u,"lib"),d=r.join(s,"static"),p=d,j=r.join(d,"styles"),v=r.join(s,"templates"),x=r.join(s,"index.js"),g=r.join(p,"client.js"),y=r.join(p,"server.js"),b=r.join(d,"images"),q=r.join(v,"latex");e.exports={rootDir:i,sourceDir:a,buildDir:p,templatesDir:v,assetsDir:d,clientLibDir:f,clientDir:u,clientEntry:c,serverEntry:x,defaultStyle:r.join(j,"default.styl"),overlayStyle:r.join(j,"overlay.styl"),clientBuild:g,serverBuild:y,favicon:r.join(b,"favicon.png"),clientBuildGlob:r.join(g,"*"),serverBuildGlob:r.join(y,"*"),equationTemplatePath:r.join(q,"string.tex"),errorTemplatePath:r.join(q,"string.tex"),eslintConfig:r.join(o,"eslint.json"),karmaConfig:r.join(o,"karma.js"),webpackBaseConfig:r.join(l,"base.js"),webpackClientConfig:r.join(l,"client.js"),webpackServerConfig:r.join(l,"server.js")}}).call(t,"config")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderLaTeX=void 0;var i=n(4),o=r(i);t.renderLaTeX=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(13),a=r(o),u=n(15),s=(r(u),n(2)),l=r(s),c=n(11),f=r(c),d=n(16),p=r(d),j=n(7),v=n(10),x=r(v),g=n(1),y=new a["default"].Environment(new a["default"].FileSystemLoader(l["default"].join(g.templatesDir,"latex")));y.addFilter("add_braces",function(e){return"{"+e+"}"}),t["default"]=function(e,t){function n(e,n){var o=y.render(e,i({},r,n));p["default"].track(),p["default"].mkdir("feynman",function(e,n){var r=l["default"].join(n,"equation.tex"),i=l["default"].join(n,"equation.pdf"),a=l["default"].join(n,"equation.png");x["default"].writeFileSync(r,o);var u=(0,j.spawn)("pdflatex",["-output-directory="+n,r]);u.on("close",function(e){0!==e&&console.log("ps process exited with code "+e),f["default"].convert(["-density","300",i,"-quality","90",a],function(e,n){if(e)console.log("ERROR: "+e),t.status(500).send("could not generate pdf");else{var r=x["default"].readFileSync(a);t.writeHead(200,{"Content-Type":"image/png"}),t.end(r,"binary")}p["default"].cleanupSync()})}),u.stderr.on("data",function(e){console.log("pdflatex stderr: "+e)})})}var r=i({color:"black",fontSize:5,isMath:!0,equation:""},e.query);if(r.baseLine=1.2*parseInt(r.fontSize),!r.equation)return t.status(500).send("invalid equation!");try{n("string.tex")}catch(o){n("error.tex",{error:o})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(i),a=n(8),u=r(a),s=n(12),l=r(s),c=n(14),f=r(c),d=n(1),p=n(3),j=(0,o["default"])();j.set("view engine","jade"),j.set("views",d.templatesDir),j.use((0,l["default"])("dev")),j.use((0,u["default"])()),j.use("/static",(0,f["default"])(d.buildDir),(0,f["default"])(d.assetsDir),(0,f["default"])(d.clientLibDir)),j.get("/latex",p.renderLaTeX),j.get("/",function(e,t){return t.render("index.jade")}),t["default"]=j,e.exports=t["default"]},function(e,t){e.exports=require("babel-polyfill")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("imagemagick")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("nunjucks")},function(e,t){e.exports=require("serve-static")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("temp")},function(e,t){e.exports=require("yargs")}]);